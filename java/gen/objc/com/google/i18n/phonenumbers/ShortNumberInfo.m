//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/marcussmith/temp/libphonenumber/java/libphonenumber/src/main/java/com/google/i18n/phonenumbers/ShortNumberInfo.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "com/google/i18n/phonenumbers/CountryCodeToRegionCodeMap.h"
#include "com/google/i18n/phonenumbers/MetadataManager.h"
#include "com/google/i18n/phonenumbers/PhoneNumberUtil.h"
#include "com/google/i18n/phonenumbers/Phonemetadata.h"
#include "com/google/i18n/phonenumbers/Phonenumber.h"
#include "com/google/i18n/phonenumbers/ShortNumberInfo.h"
#include "com/google/i18n/phonenumbers/internal/MatcherApi.h"
#include "com/google/i18n/phonenumbers/internal/RegexBasedMatcher.h"
#include "java/lang/CharSequence.h"
#include "java/lang/Enum.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Integer.h"
#include "java/lang/StringBuilder.h"
#include "java/util/ArrayList.h"
#include "java/util/Arrays.h"
#include "java/util/Collections.h"
#include "java/util/HashSet.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "java/util/logging/Level.h"
#include "java/util/logging/Logger.h"
#include "java/util/regex/Matcher.h"
#include "java/util/regex/Pattern.h"

@interface ComGoogleI18nPhonenumbersShortNumberInfo () {
 @public
  id<ComGoogleI18nPhonenumbersInternalMatcherApi> matcherApi_;
  id<JavaUtilMap> countryCallingCodeToRegionCodeMap_;
}

@end

J2OBJC_FIELD_SETTER(ComGoogleI18nPhonenumbersShortNumberInfo, matcherApi_, id<ComGoogleI18nPhonenumbersInternalMatcherApi>)
J2OBJC_FIELD_SETTER(ComGoogleI18nPhonenumbersShortNumberInfo, countryCallingCodeToRegionCodeMap_, id<JavaUtilMap>)

inline JavaUtilLoggingLogger *ComGoogleI18nPhonenumbersShortNumberInfo_get_logger(void);
static JavaUtilLoggingLogger *ComGoogleI18nPhonenumbersShortNumberInfo_logger;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersShortNumberInfo, logger, JavaUtilLoggingLogger *)

inline ComGoogleI18nPhonenumbersShortNumberInfo *ComGoogleI18nPhonenumbersShortNumberInfo_get_INSTANCE(void);
static ComGoogleI18nPhonenumbersShortNumberInfo *ComGoogleI18nPhonenumbersShortNumberInfo_INSTANCE;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersShortNumberInfo, INSTANCE, ComGoogleI18nPhonenumbersShortNumberInfo *)

inline id<JavaUtilSet> ComGoogleI18nPhonenumbersShortNumberInfo_get_REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT(void);
static id<JavaUtilSet> ComGoogleI18nPhonenumbersShortNumberInfo_REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersShortNumberInfo, REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT, id<JavaUtilSet>)

__attribute__((unused)) static id<JavaUtilList> ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodesForCountryCodeWithInt_(ComGoogleI18nPhonenumbersShortNumberInfo *self, jint countryCallingCode);

__attribute__((unused)) static jboolean ComGoogleI18nPhonenumbersShortNumberInfo_regionDialingFromMatchesNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withNSString_(ComGoogleI18nPhonenumbersShortNumberInfo *self, ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *number, NSString *regionDialingFrom);

__attribute__((unused)) static NSString *ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodeForShortNumberFromRegionListWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withJavaUtilList_(ComGoogleI18nPhonenumbersShortNumberInfo *self, ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *number, id<JavaUtilList> regionCodes);

__attribute__((unused)) static jboolean ComGoogleI18nPhonenumbersShortNumberInfo_matchesEmergencyNumberHelperWithJavaLangCharSequence_withNSString_withBoolean_(ComGoogleI18nPhonenumbersShortNumberInfo *self, id<JavaLangCharSequence> number, NSString *regionCode, jboolean allowPrefixMatch);

__attribute__((unused)) static NSString *ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *number);

__attribute__((unused)) static jboolean ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(ComGoogleI18nPhonenumbersShortNumberInfo *self, NSString *number, ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *numberDesc);

__attribute__((unused)) static void ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_initWithNSString_withInt_(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *self, NSString *__name, jint __ordinal);

J2OBJC_INITIALIZED_DEFN(ComGoogleI18nPhonenumbersShortNumberInfo)

@implementation ComGoogleI18nPhonenumbersShortNumberInfo

+ (ComGoogleI18nPhonenumbersShortNumberInfo *)getInstance {
  return ComGoogleI18nPhonenumbersShortNumberInfo_getInstance();
}

- (instancetype __nonnull)initWithComGoogleI18nPhonenumbersInternalMatcherApi:(id<ComGoogleI18nPhonenumbersInternalMatcherApi>)matcherApi {
  ComGoogleI18nPhonenumbersShortNumberInfo_initWithComGoogleI18nPhonenumbersInternalMatcherApi_(self, matcherApi);
  return self;
}

- (jboolean)isPossibleShortNumberForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number
                                                                                  withNSString:(NSString *)regionDialingFrom {
  if (!ComGoogleI18nPhonenumbersShortNumberInfo_regionDialingFromMatchesNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withNSString_(self, number, regionDialingFrom)) {
    return false;
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionDialingFrom);
  if (phoneMetadata == nil) {
    return false;
  }
  jint numberLength = [((NSString *) nil_chk(ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number))) java_length];
  return [((id<JavaUtilList>) nil_chk([((ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *) nil_chk([phoneMetadata getGeneralDesc])) getPossibleLengthList])) containsWithId:JavaLangInteger_valueOfWithInt_(numberLength)];
}

- (jboolean)isPossibleShortNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number {
  id<JavaUtilList> regionCodes = ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodesForCountryCodeWithInt_(self, [((ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *) nil_chk(number)) getCountryCode]);
  jint shortNumberLength = [((NSString *) nil_chk(ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number))) java_length];
  for (NSString * __strong region in nil_chk(regionCodes)) {
    ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(region);
    if (phoneMetadata == nil) {
      continue;
    }
    if ([((id<JavaUtilList>) nil_chk([((ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *) nil_chk([phoneMetadata getGeneralDesc])) getPossibleLengthList])) containsWithId:JavaLangInteger_valueOfWithInt_(shortNumberLength)]) {
      return true;
    }
  }
  return false;
}

- (jboolean)isValidShortNumberForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number
                                                                               withNSString:(NSString *)regionDialingFrom {
  if (!ComGoogleI18nPhonenumbersShortNumberInfo_regionDialingFromMatchesNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withNSString_(self, number, regionDialingFrom)) {
    return false;
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionDialingFrom);
  if (phoneMetadata == nil) {
    return false;
  }
  NSString *shortNumber = ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number);
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *generalDesc = [phoneMetadata getGeneralDesc];
  if (!ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, shortNumber, generalDesc)) {
    return false;
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *shortNumberDesc = [phoneMetadata getShortCode];
  return ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, shortNumber, shortNumberDesc);
}

- (jboolean)isValidShortNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number {
  id<JavaUtilList> regionCodes = ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodesForCountryCodeWithInt_(self, [((ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *) nil_chk(number)) getCountryCode]);
  NSString *regionCode = ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodeForShortNumberFromRegionListWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withJavaUtilList_(self, number, regionCodes);
  if ([((id<JavaUtilList>) nil_chk(regionCodes)) size] > 1 && regionCode != nil) {
    return true;
  }
  return [self isValidShortNumberForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:number withNSString:regionCode];
}

- (ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *)getExpectedCostForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number
                                                                                                                              withNSString:(NSString *)regionDialingFrom {
  if (!ComGoogleI18nPhonenumbersShortNumberInfo_regionDialingFromMatchesNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withNSString_(self, number, regionDialingFrom)) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, UNKNOWN_COST);
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionDialingFrom);
  if (phoneMetadata == nil) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, UNKNOWN_COST);
  }
  NSString *shortNumber = ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number);
  if (![((id<JavaUtilList>) nil_chk([((ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *) nil_chk([phoneMetadata getGeneralDesc])) getPossibleLengthList])) containsWithId:JavaLangInteger_valueOfWithInt_([((NSString *) nil_chk(shortNumber)) java_length])]) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, UNKNOWN_COST);
  }
  if (ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, shortNumber, [phoneMetadata getPremiumRate])) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, PREMIUM_RATE);
  }
  if (ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, shortNumber, [phoneMetadata getStandardRate])) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, STANDARD_RATE);
  }
  if (ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, shortNumber, [phoneMetadata getTollFree])) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, TOLL_FREE);
  }
  if ([self isEmergencyNumberWithJavaLangCharSequence:shortNumber withNSString:regionDialingFrom]) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, TOLL_FREE);
  }
  return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, UNKNOWN_COST);
}

- (ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *)getExpectedCostWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number {
  id<JavaUtilList> regionCodes = ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodesForCountryCodeWithInt_(self, [((ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *) nil_chk(number)) getCountryCode]);
  if ([((id<JavaUtilList>) nil_chk(regionCodes)) size] == 0) {
    return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, UNKNOWN_COST);
  }
  if ([regionCodes size] == 1) {
    return [self getExpectedCostForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:number withNSString:[regionCodes getWithInt:0]];
  }
  ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *cost = JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, TOLL_FREE);
  for (NSString * __strong regionCode in regionCodes) {
    ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *costForRegion = [self getExpectedCostForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:number withNSString:regionCode];
    switch ([costForRegion ordinal]) {
      case ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_Enum_PREMIUM_RATE:
      return JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, PREMIUM_RATE);
      case ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_Enum_UNKNOWN_COST:
      cost = JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, UNKNOWN_COST);
      break;
      case ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_Enum_STANDARD_RATE:
      if (cost != JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, UNKNOWN_COST)) {
        cost = JreLoadEnum(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost, STANDARD_RATE);
      }
      break;
      case ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_Enum_TOLL_FREE:
      break;
      default:
      [((JavaUtilLoggingLogger *) nil_chk(ComGoogleI18nPhonenumbersShortNumberInfo_logger)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, SEVERE) withNSString:JreStrcat("$@", @"Unrecognised cost for region: ", costForRegion)];
    }
  }
  return cost;
}

- (id<JavaUtilSet>)getSupportedRegions {
  return ComGoogleI18nPhonenumbersMetadataManager_getSupportedShortNumberRegions();
}

- (NSString *)getExampleShortNumberWithNSString:(NSString *)regionCode {
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionCode);
  if (phoneMetadata == nil) {
    return @"";
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *desc = [phoneMetadata getShortCode];
  if ([((ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *) nil_chk(desc)) hasExampleNumber]) {
    return [desc getExampleNumber];
  }
  return @"";
}

- (NSString *)getExampleShortNumberForCostWithNSString:(NSString *)regionCode
withComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost:(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *)cost {
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionCode);
  if (phoneMetadata == nil) {
    return @"";
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *desc = nil;
  switch ([cost ordinal]) {
    case ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_Enum_TOLL_FREE:
    desc = [phoneMetadata getTollFree];
    break;
    case ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_Enum_STANDARD_RATE:
    desc = [phoneMetadata getStandardRate];
    break;
    case ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_Enum_PREMIUM_RATE:
    desc = [phoneMetadata getPremiumRate];
    break;
    default:
    ;
  }
  if (desc != nil && [desc hasExampleNumber]) {
    return [desc getExampleNumber];
  }
  return @"";
}

- (jboolean)connectsToEmergencyNumberWithNSString:(NSString *)number
                                     withNSString:(NSString *)regionCode {
  return ComGoogleI18nPhonenumbersShortNumberInfo_matchesEmergencyNumberHelperWithJavaLangCharSequence_withNSString_withBoolean_(self, number, regionCode, true);
}

- (jboolean)isEmergencyNumberWithJavaLangCharSequence:(id<JavaLangCharSequence>)number
                                         withNSString:(NSString *)regionCode {
  return ComGoogleI18nPhonenumbersShortNumberInfo_matchesEmergencyNumberHelperWithJavaLangCharSequence_withNSString_withBoolean_(self, number, regionCode, false);
}

- (jboolean)isCarrierSpecificWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number {
  id<JavaUtilList> regionCodes = ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodesForCountryCodeWithInt_(self, [((ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *) nil_chk(number)) getCountryCode]);
  NSString *regionCode = ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodeForShortNumberFromRegionListWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withJavaUtilList_(self, number, regionCodes);
  NSString *nationalNumber = ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number);
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionCode);
  return (phoneMetadata != nil) && (ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, nationalNumber, [((ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *) nil_chk(phoneMetadata)) getCarrierSpecific]));
}

- (jboolean)isCarrierSpecificForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number
                                                                              withNSString:(NSString *)regionDialingFrom {
  if (!ComGoogleI18nPhonenumbersShortNumberInfo_regionDialingFromMatchesNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withNSString_(self, number, regionDialingFrom)) {
    return false;
  }
  NSString *nationalNumber = ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number);
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionDialingFrom);
  return (phoneMetadata != nil) && (ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, nationalNumber, [((ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *) nil_chk(phoneMetadata)) getCarrierSpecific]));
}

- (jboolean)isSmsServiceForRegionWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber:(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *)number
                                                                         withNSString:(NSString *)regionDialingFrom {
  if (!ComGoogleI18nPhonenumbersShortNumberInfo_regionDialingFromMatchesNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withNSString_(self, number, regionDialingFrom)) {
    return false;
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionDialingFrom);
  return phoneMetadata != nil && ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number), [phoneMetadata getSmsServices]);
}

- (void)dealloc {
  RELEASE_(matcherApi_);
  RELEASE_(countryCallingCodeToRegionCodeMap_);
  [super dealloc];
}

+ (void)initialize {
  if (self == [ComGoogleI18nPhonenumbersShortNumberInfo class]) {
    JreStrongAssign(&ComGoogleI18nPhonenumbersShortNumberInfo_logger, JavaUtilLoggingLogger_getLoggerWithNSString_([ComGoogleI18nPhonenumbersShortNumberInfo_class_() getName]));
    JreStrongAssignAndConsume(&ComGoogleI18nPhonenumbersShortNumberInfo_INSTANCE, new_ComGoogleI18nPhonenumbersShortNumberInfo_initWithComGoogleI18nPhonenumbersInternalMatcherApi_(ComGoogleI18nPhonenumbersInternalRegexBasedMatcher_create()));
    JreStrongAssignAndConsume(&ComGoogleI18nPhonenumbersShortNumberInfo_REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT, new_JavaUtilHashSet_init());
    {
      [ComGoogleI18nPhonenumbersShortNumberInfo_REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT addWithId:@"BR"];
      [ComGoogleI18nPhonenumbersShortNumberInfo_REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT addWithId:@"CL"];
      [ComGoogleI18nPhonenumbersShortNumberInfo_REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT addWithId:@"NI"];
    }
    J2OBJC_SET_INITIALIZED(ComGoogleI18nPhonenumbersShortNumberInfo)
  }
}

@end

ComGoogleI18nPhonenumbersShortNumberInfo *ComGoogleI18nPhonenumbersShortNumberInfo_getInstance() {
  ComGoogleI18nPhonenumbersShortNumberInfo_initialize();
  return ComGoogleI18nPhonenumbersShortNumberInfo_INSTANCE;
}

void ComGoogleI18nPhonenumbersShortNumberInfo_initWithComGoogleI18nPhonenumbersInternalMatcherApi_(ComGoogleI18nPhonenumbersShortNumberInfo *self, id<ComGoogleI18nPhonenumbersInternalMatcherApi> matcherApi) {
  NSObject_init(self);
  JreStrongAssign(&self->matcherApi_, matcherApi);
  JreStrongAssign(&self->countryCallingCodeToRegionCodeMap_, ComGoogleI18nPhonenumbersCountryCodeToRegionCodeMap_getCountryCodeToRegionCodeMap());
}

ComGoogleI18nPhonenumbersShortNumberInfo *new_ComGoogleI18nPhonenumbersShortNumberInfo_initWithComGoogleI18nPhonenumbersInternalMatcherApi_(id<ComGoogleI18nPhonenumbersInternalMatcherApi> matcherApi) {
  J2OBJC_NEW_IMPL(ComGoogleI18nPhonenumbersShortNumberInfo, initWithComGoogleI18nPhonenumbersInternalMatcherApi_, matcherApi)
}

ComGoogleI18nPhonenumbersShortNumberInfo *create_ComGoogleI18nPhonenumbersShortNumberInfo_initWithComGoogleI18nPhonenumbersInternalMatcherApi_(id<ComGoogleI18nPhonenumbersInternalMatcherApi> matcherApi) {
  J2OBJC_CREATE_IMPL(ComGoogleI18nPhonenumbersShortNumberInfo, initWithComGoogleI18nPhonenumbersInternalMatcherApi_, matcherApi)
}

id<JavaUtilList> ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodesForCountryCodeWithInt_(ComGoogleI18nPhonenumbersShortNumberInfo *self, jint countryCallingCode) {
  id<JavaUtilList> regionCodes = [((id<JavaUtilMap>) nil_chk(self->countryCallingCodeToRegionCodeMap_)) getWithId:JavaLangInteger_valueOfWithInt_(countryCallingCode)];
  return JavaUtilCollections_unmodifiableListWithJavaUtilList_(regionCodes == nil ? create_JavaUtilArrayList_initWithInt_(0) : regionCodes);
}

jboolean ComGoogleI18nPhonenumbersShortNumberInfo_regionDialingFromMatchesNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withNSString_(ComGoogleI18nPhonenumbersShortNumberInfo *self, ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *number, NSString *regionDialingFrom) {
  id<JavaUtilList> regionCodes = ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodesForCountryCodeWithInt_(self, [((ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *) nil_chk(number)) getCountryCode]);
  return [((id<JavaUtilList>) nil_chk(regionCodes)) containsWithId:regionDialingFrom];
}

NSString *ComGoogleI18nPhonenumbersShortNumberInfo_getRegionCodeForShortNumberFromRegionListWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_withJavaUtilList_(ComGoogleI18nPhonenumbersShortNumberInfo *self, ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *number, id<JavaUtilList> regionCodes) {
  if ([((id<JavaUtilList>) nil_chk(regionCodes)) size] == 0) {
    return nil;
  }
  else if ([regionCodes size] == 1) {
    return [regionCodes getWithInt:0];
  }
  NSString *nationalNumber = ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(number);
  for (NSString * __strong regionCode in regionCodes) {
    ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *phoneMetadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionCode);
    if (phoneMetadata != nil && ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(self, nationalNumber, [phoneMetadata getShortCode])) {
      return regionCode;
    }
  }
  return nil;
}

jboolean ComGoogleI18nPhonenumbersShortNumberInfo_matchesEmergencyNumberHelperWithJavaLangCharSequence_withNSString_withBoolean_(ComGoogleI18nPhonenumbersShortNumberInfo *self, id<JavaLangCharSequence> number, NSString *regionCode, jboolean allowPrefixMatch) {
  id<JavaLangCharSequence> possibleNumber = ComGoogleI18nPhonenumbersPhoneNumberUtil_extractPossibleNumberWithJavaLangCharSequence_(number);
  if ([((JavaUtilRegexMatcher *) nil_chk([((JavaUtilRegexPattern *) nil_chk(JreLoadStatic(ComGoogleI18nPhonenumbersPhoneNumberUtil, PLUS_CHARS_PATTERN))) matcherWithJavaLangCharSequence:possibleNumber])) lookingAt]) {
    return false;
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *metadata = ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionCode);
  if (metadata == nil || ![metadata hasEmergency]) {
    return false;
  }
  NSString *normalizedNumber = ComGoogleI18nPhonenumbersPhoneNumberUtil_normalizeDigitsOnlyWithJavaLangCharSequence_(possibleNumber);
  jboolean allowPrefixMatchForRegion = allowPrefixMatch && ![((id<JavaUtilSet>) nil_chk(ComGoogleI18nPhonenumbersShortNumberInfo_REGIONS_WHERE_EMERGENCY_NUMBERS_MUST_BE_EXACT)) containsWithId:regionCode];
  return [((id<ComGoogleI18nPhonenumbersInternalMatcherApi>) nil_chk(self->matcherApi_)) matchNationalNumberWithJavaLangCharSequence:normalizedNumber withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc:[metadata getEmergency] withBoolean:allowPrefixMatchForRegion];
}

NSString *ComGoogleI18nPhonenumbersShortNumberInfo_getNationalSignificantNumberWithComGoogleI18nPhonenumbersPhonenumber_PhoneNumber_(ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *number) {
  ComGoogleI18nPhonenumbersShortNumberInfo_initialize();
  JavaLangStringBuilder *nationalNumber = create_JavaLangStringBuilder_init();
  if ([((ComGoogleI18nPhonenumbersPhonenumber_PhoneNumber *) nil_chk(number)) isItalianLeadingZero]) {
    IOSCharArray *zeros = [IOSCharArray arrayWithLength:[number getNumberOfLeadingZeros]];
    JavaUtilArrays_fillWithCharArray_withChar_(zeros, '0');
    [nationalNumber appendWithNSString:[NSString java_stringWithCharacters:zeros]];
  }
  [nationalNumber appendWithLong:[number getNationalNumber]];
  return [nationalNumber description];
}

jboolean ComGoogleI18nPhonenumbersShortNumberInfo_matchesPossibleNumberAndNationalNumberWithNSString_withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc_(ComGoogleI18nPhonenumbersShortNumberInfo *self, NSString *number, ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *numberDesc) {
  if ([((ComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc *) nil_chk(numberDesc)) getPossibleLengthCount] > 0 && ![((id<JavaUtilList>) nil_chk([numberDesc getPossibleLengthList])) containsWithId:JavaLangInteger_valueOfWithInt_([((NSString *) nil_chk(number)) java_length])]) {
    return false;
  }
  return [((id<ComGoogleI18nPhonenumbersInternalMatcherApi>) nil_chk(self->matcherApi_)) matchNationalNumberWithJavaLangCharSequence:number withComGoogleI18nPhonenumbersPhonemetadata_PhoneNumberDesc:numberDesc withBoolean:false];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleI18nPhonenumbersShortNumberInfo)

J2OBJC_INITIALIZED_DEFN(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost)

ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_values_[4];

@implementation ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost

+ (IOSObjectArray *)values {
  return ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_values();
}

+ (ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *)valueOfWithNSString:(NSString *)name {
  return ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_valueOfWithNSString_(name);
}

+ (void)initialize {
  if (self == [ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost class]) {
    size_t objSize = class_getInstanceSize(self);
    size_t allocSize = 4 * objSize;
    uintptr_t ptr = (uintptr_t)calloc(allocSize, 1);
    id e;
    id names[] = {
      @"TOLL_FREE", @"STANDARD_RATE", @"PREMIUM_RATE", @"UNKNOWN_COST",
    };
    for (jint i = 0; i < 4; i++) {
      ((void)(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_values_[i] = e = objc_constructInstance(self, (void *)ptr)), ptr += objSize);
      ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_initWithNSString_withInt_(e, names[i], i);
    }
    J2OBJC_SET_INITIALIZED(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost)
  }
}

@end

void ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_initWithNSString_withInt_(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *self, NSString *__name, jint __ordinal) {
  JavaLangEnum_initWithNSString_withInt_(self, __name, __ordinal);
}

IOSObjectArray *ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_values() {
  ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_initialize();
  return [IOSObjectArray arrayWithObjects:ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_values_ count:4 type:ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_class_()];
}

ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_valueOfWithNSString_(NSString *name) {
  ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_initialize();
  for (int i = 0; i < 4; i++) {
    ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *e = ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_values_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw create_JavaLangIllegalArgumentException_initWithNSString_(name);
  return nil;
}

ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost *ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_fromOrdinal(NSUInteger ordinal) {
  ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_initialize();
  if (ordinal >= 4) {
    return nil;
  }
  return ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost_values_[ordinal];
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleI18nPhonenumbersShortNumberInfo_ShortNumberCost)
