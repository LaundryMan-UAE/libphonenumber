//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/marcussmith/HambroPerks/hambroperks_org/libphonenumber/java/libphonenumber/src/main/java/com/google/i18n/phonenumbers/MetadataManager.java
//

#include "IOSClass.h"
#include "J2ObjC_source.h"
#include "com/google/i18n/phonenumbers/AlternateFormatsCountryCodeSet.h"
#include "com/google/i18n/phonenumbers/MetadataLoader.h"
#include "com/google/i18n/phonenumbers/MetadataManager.h"
#include "com/google/i18n/phonenumbers/PhoneNumberUtil.h"
#include "com/google/i18n/phonenumbers/Phonemetadata.h"
#include "com/google/i18n/phonenumbers/ShortNumbersRegionCodeSet.h"
#include "java/io/IOException.h"
#include "java/io/InputStream.h"
#include "java/io/ObjectInputStream.h"
#include "java/lang/IllegalStateException.h"
#include "java/lang/Integer.h"
#include "java/lang/RuntimeException.h"
#include "java/util/Collections.h"
#include "java/util/HashMap.h"
#include "java/util/List.h"
#include "java/util/Map.h"
#include "java/util/Set.h"
#include "java/util/concurrent/ConcurrentHashMap.h"
#include "java/util/concurrent/atomic/AtomicReference.h"
#include "java/util/logging/Level.h"
#include "java/util/logging/Logger.h"

@interface ComGoogleI18nPhonenumbersMetadataManager ()

- (instancetype)init;

+ (id<JavaUtilList>)getMetadataFromSingleFileNameWithNSString:(NSString *)fileName
                  withComGoogleI18nPhonenumbersMetadataLoader:(id<ComGoogleI18nPhonenumbersMetadataLoader>)metadataLoader;

/*!
 @brief Loads and returns the metadata from the given stream and closes the stream.
 @param source  the non-null stream from which metadata is to be read
 @return the loaded metadata
 */
+ (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection *)loadMetadataAndCloseInputWithJavaIoInputStream:(JavaIoInputStream *)source;

@end

inline NSString *ComGoogleI18nPhonenumbersMetadataManager_get_ALTERNATE_FORMATS_FILE_PREFIX();
static NSString *ComGoogleI18nPhonenumbersMetadataManager_ALTERNATE_FORMATS_FILE_PREFIX = @"PhoneNumberAlternateFormatsProto";
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersMetadataManager, ALTERNATE_FORMATS_FILE_PREFIX, NSString *)

inline NSString *ComGoogleI18nPhonenumbersMetadataManager_get_SHORT_NUMBER_METADATA_FILE_PREFIX();
static NSString *ComGoogleI18nPhonenumbersMetadataManager_SHORT_NUMBER_METADATA_FILE_PREFIX = @"ShortNumberMetadataProto";
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersMetadataManager, SHORT_NUMBER_METADATA_FILE_PREFIX, NSString *)

inline JavaUtilLoggingLogger *ComGoogleI18nPhonenumbersMetadataManager_get_logger();
static JavaUtilLoggingLogger *ComGoogleI18nPhonenumbersMetadataManager_logger;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersMetadataManager, logger, JavaUtilLoggingLogger *)

inline JavaUtilConcurrentConcurrentHashMap *ComGoogleI18nPhonenumbersMetadataManager_get_alternateFormatsMap();
static JavaUtilConcurrentConcurrentHashMap *ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsMap;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersMetadataManager, alternateFormatsMap, JavaUtilConcurrentConcurrentHashMap *)

inline JavaUtilConcurrentConcurrentHashMap *ComGoogleI18nPhonenumbersMetadataManager_get_shortNumberMetadataMap();
static JavaUtilConcurrentConcurrentHashMap *ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataMap;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersMetadataManager, shortNumberMetadataMap, JavaUtilConcurrentConcurrentHashMap *)

inline id<JavaUtilSet> ComGoogleI18nPhonenumbersMetadataManager_get_alternateFormatsCountryCodes();
static id<JavaUtilSet> ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsCountryCodes;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersMetadataManager, alternateFormatsCountryCodes, id<JavaUtilSet>)

inline id<JavaUtilSet> ComGoogleI18nPhonenumbersMetadataManager_get_shortNumberMetadataRegionCodes();
static id<JavaUtilSet> ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataRegionCodes;
J2OBJC_STATIC_FIELD_OBJ_FINAL(ComGoogleI18nPhonenumbersMetadataManager, shortNumberMetadataRegionCodes, id<JavaUtilSet>)

__attribute__((unused)) static void ComGoogleI18nPhonenumbersMetadataManager_init(ComGoogleI18nPhonenumbersMetadataManager *self);

__attribute__((unused)) static ComGoogleI18nPhonenumbersMetadataManager *new_ComGoogleI18nPhonenumbersMetadataManager_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static ComGoogleI18nPhonenumbersMetadataManager *create_ComGoogleI18nPhonenumbersMetadataManager_init();

__attribute__((unused)) static id<JavaUtilList> ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromSingleFileNameWithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(NSString *fileName, id<ComGoogleI18nPhonenumbersMetadataLoader> metadataLoader);

__attribute__((unused)) static ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection *ComGoogleI18nPhonenumbersMetadataManager_loadMetadataAndCloseInputWithJavaIoInputStream_(JavaIoInputStream *source);

@interface ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps () {
 @public
  id<JavaUtilMap> regionCodeToMetadata_;
  id<JavaUtilMap> countryCallingCodeToMetadata_;
}

- (instancetype)initWithJavaUtilMap:(id<JavaUtilMap>)regionCodeToMetadata
                    withJavaUtilMap:(id<JavaUtilMap>)countryCallingCodeToMetadata;

@end

J2OBJC_FIELD_SETTER(ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps, regionCodeToMetadata_, id<JavaUtilMap>)
J2OBJC_FIELD_SETTER(ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps, countryCallingCodeToMetadata_, id<JavaUtilMap>)

__attribute__((unused)) static void ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *self, id<JavaUtilMap> regionCodeToMetadata, id<JavaUtilMap> countryCallingCodeToMetadata);

__attribute__((unused)) static ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *new_ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(id<JavaUtilMap> regionCodeToMetadata, id<JavaUtilMap> countryCallingCodeToMetadata) NS_RETURNS_RETAINED;

__attribute__((unused)) static ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *create_ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(id<JavaUtilMap> regionCodeToMetadata, id<JavaUtilMap> countryCallingCodeToMetadata);

@interface ComGoogleI18nPhonenumbersMetadataManager_$1 : NSObject < ComGoogleI18nPhonenumbersMetadataLoader >

- (JavaIoInputStream *)loadMetadataWithNSString:(NSString *)metadataFileName;

- (instancetype)init;

@end

J2OBJC_EMPTY_STATIC_INIT(ComGoogleI18nPhonenumbersMetadataManager_$1)

__attribute__((unused)) static void ComGoogleI18nPhonenumbersMetadataManager_$1_init(ComGoogleI18nPhonenumbersMetadataManager_$1 *self);

__attribute__((unused)) static ComGoogleI18nPhonenumbersMetadataManager_$1 *new_ComGoogleI18nPhonenumbersMetadataManager_$1_init() NS_RETURNS_RETAINED;

__attribute__((unused)) static ComGoogleI18nPhonenumbersMetadataManager_$1 *create_ComGoogleI18nPhonenumbersMetadataManager_$1_init();

J2OBJC_INITIALIZED_DEFN(ComGoogleI18nPhonenumbersMetadataManager)

NSString *ComGoogleI18nPhonenumbersMetadataManager_MULTI_FILE_PHONE_NUMBER_METADATA_FILE_PREFIX = @"PhoneNumberMetadataProto";
NSString *ComGoogleI18nPhonenumbersMetadataManager_SINGLE_FILE_PHONE_NUMBER_METADATA_FILE_NAME = @"SingleFilePhoneNumberMetadataProto";
id<ComGoogleI18nPhonenumbersMetadataLoader> ComGoogleI18nPhonenumbersMetadataManager_DEFAULT_METADATA_LOADER;

@implementation ComGoogleI18nPhonenumbersMetadataManager

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComGoogleI18nPhonenumbersMetadataManager_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *)getAlternateFormatsForCountryWithInt:(jint)countryCallingCode {
  return ComGoogleI18nPhonenumbersMetadataManager_getAlternateFormatsForCountryWithInt_(countryCallingCode);
}

+ (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *)getShortNumberMetadataForRegionWithNSString:(NSString *)regionCode {
  return ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(regionCode);
}

+ (id<JavaUtilSet>)getSupportedShortNumberRegions {
  return ComGoogleI18nPhonenumbersMetadataManager_getSupportedShortNumberRegions();
}

+ (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *)getMetadataFromMultiFilePrefixWithId:(id)key
                                                       withJavaUtilConcurrentConcurrentHashMap:(JavaUtilConcurrentConcurrentHashMap *)map
                                                                                  withNSString:(NSString *)filePrefix
                                                   withComGoogleI18nPhonenumbersMetadataLoader:(id<ComGoogleI18nPhonenumbersMetadataLoader>)metadataLoader {
  return ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromMultiFilePrefixWithId_withJavaUtilConcurrentConcurrentHashMap_withNSString_withComGoogleI18nPhonenumbersMetadataLoader_(key, map, filePrefix, metadataLoader);
}

+ (ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *)getSingleFileMetadataMapsWithJavaUtilConcurrentAtomicAtomicReference:(JavaUtilConcurrentAtomicAtomicReference *)ref
                                                                                                                             withNSString:(NSString *)fileName
                                                                                              withComGoogleI18nPhonenumbersMetadataLoader:(id<ComGoogleI18nPhonenumbersMetadataLoader>)metadataLoader {
  return ComGoogleI18nPhonenumbersMetadataManager_getSingleFileMetadataMapsWithJavaUtilConcurrentAtomicAtomicReference_withNSString_withComGoogleI18nPhonenumbersMetadataLoader_(ref, fileName, metadataLoader);
}

+ (id<JavaUtilList>)getMetadataFromSingleFileNameWithNSString:(NSString *)fileName
                  withComGoogleI18nPhonenumbersMetadataLoader:(id<ComGoogleI18nPhonenumbersMetadataLoader>)metadataLoader {
  return ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromSingleFileNameWithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(fileName, metadataLoader);
}

+ (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection *)loadMetadataAndCloseInputWithJavaIoInputStream:(JavaIoInputStream *)source {
  return ComGoogleI18nPhonenumbersMetadataManager_loadMetadataAndCloseInputWithJavaIoInputStream_(source);
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, NULL, 0x2, -1, -1, -1, -1, -1, -1 },
    { NULL, "LComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata;", 0x8, 0, 1, -1, -1, -1, -1 },
    { NULL, "LComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata;", 0x8, 2, 3, -1, -1, -1, -1 },
    { NULL, "LJavaUtilSet;", 0x8, -1, -1, -1, 4, -1, -1 },
    { NULL, "LComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata;", 0x8, 5, 6, -1, 7, -1, -1 },
    { NULL, "LComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps;", 0x8, 8, 9, -1, 10, -1, -1 },
    { NULL, "LJavaUtilList;", 0xa, 11, 12, -1, 13, -1, -1 },
    { NULL, "LComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection;", 0xa, 14, 15, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(init);
  methods[1].selector = @selector(getAlternateFormatsForCountryWithInt:);
  methods[2].selector = @selector(getShortNumberMetadataForRegionWithNSString:);
  methods[3].selector = @selector(getSupportedShortNumberRegions);
  methods[4].selector = @selector(getMetadataFromMultiFilePrefixWithId:withJavaUtilConcurrentConcurrentHashMap:withNSString:withComGoogleI18nPhonenumbersMetadataLoader:);
  methods[5].selector = @selector(getSingleFileMetadataMapsWithJavaUtilConcurrentAtomicAtomicReference:withNSString:withComGoogleI18nPhonenumbersMetadataLoader:);
  methods[6].selector = @selector(getMetadataFromSingleFileNameWithNSString:withComGoogleI18nPhonenumbersMetadataLoader:);
  methods[7].selector = @selector(loadMetadataAndCloseInputWithJavaIoInputStream:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "MULTI_FILE_PHONE_NUMBER_METADATA_FILE_PREFIX", "LNSString;", .constantValue.asLong = 0, 0x18, -1, 16, -1, -1 },
    { "SINGLE_FILE_PHONE_NUMBER_METADATA_FILE_NAME", "LNSString;", .constantValue.asLong = 0, 0x18, -1, 17, -1, -1 },
    { "ALTERNATE_FORMATS_FILE_PREFIX", "LNSString;", .constantValue.asLong = 0, 0x1a, -1, 18, -1, -1 },
    { "SHORT_NUMBER_METADATA_FILE_PREFIX", "LNSString;", .constantValue.asLong = 0, 0x1a, -1, 19, -1, -1 },
    { "DEFAULT_METADATA_LOADER", "LComGoogleI18nPhonenumbersMetadataLoader;", .constantValue.asLong = 0, 0x18, -1, 20, -1, -1 },
    { "logger", "LJavaUtilLoggingLogger;", .constantValue.asLong = 0, 0x1a, -1, 21, -1, -1 },
    { "alternateFormatsMap", "LJavaUtilConcurrentConcurrentHashMap;", .constantValue.asLong = 0, 0x1a, -1, 22, 23, -1 },
    { "shortNumberMetadataMap", "LJavaUtilConcurrentConcurrentHashMap;", .constantValue.asLong = 0, 0x1a, -1, 24, 25, -1 },
    { "alternateFormatsCountryCodes", "LJavaUtilSet;", .constantValue.asLong = 0, 0x1a, -1, 26, 27, -1 },
    { "shortNumberMetadataRegionCodes", "LJavaUtilSet;", .constantValue.asLong = 0, 0x1a, -1, 28, 29, -1 },
  };
  static const void *ptrTable[] = { "getAlternateFormatsForCountry", "I", "getShortNumberMetadataForRegion", "LNSString;", "()Ljava/util/Set<Ljava/lang/String;>;", "getMetadataFromMultiFilePrefix", "LNSObject;LJavaUtilConcurrentConcurrentHashMap;LNSString;LComGoogleI18nPhonenumbersMetadataLoader;", "<T:Ljava/lang/Object;>(TT;Ljava/util/concurrent/ConcurrentHashMap<TT;Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;Ljava/lang/String;Lcom/google/i18n/phonenumbers/MetadataLoader;)Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;", "getSingleFileMetadataMaps", "LJavaUtilConcurrentAtomicAtomicReference;LNSString;LComGoogleI18nPhonenumbersMetadataLoader;", "(Ljava/util/concurrent/atomic/AtomicReference<Lcom/google/i18n/phonenumbers/MetadataManager$SingleFileMetadataMaps;>;Ljava/lang/String;Lcom/google/i18n/phonenumbers/MetadataLoader;)Lcom/google/i18n/phonenumbers/MetadataManager$SingleFileMetadataMaps;", "getMetadataFromSingleFileName", "LNSString;LComGoogleI18nPhonenumbersMetadataLoader;", "(Ljava/lang/String;Lcom/google/i18n/phonenumbers/MetadataLoader;)Ljava/util/List<Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;", "loadMetadataAndCloseInput", "LJavaIoInputStream;", &ComGoogleI18nPhonenumbersMetadataManager_MULTI_FILE_PHONE_NUMBER_METADATA_FILE_PREFIX, &ComGoogleI18nPhonenumbersMetadataManager_SINGLE_FILE_PHONE_NUMBER_METADATA_FILE_NAME, &ComGoogleI18nPhonenumbersMetadataManager_ALTERNATE_FORMATS_FILE_PREFIX, &ComGoogleI18nPhonenumbersMetadataManager_SHORT_NUMBER_METADATA_FILE_PREFIX, &ComGoogleI18nPhonenumbersMetadataManager_DEFAULT_METADATA_LOADER, &ComGoogleI18nPhonenumbersMetadataManager_logger, &ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsMap, "Ljava/util/concurrent/ConcurrentHashMap<Ljava/lang/Integer;Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;", &ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataMap, "Ljava/util/concurrent/ConcurrentHashMap<Ljava/lang/String;Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;", &ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsCountryCodes, "Ljava/util/Set<Ljava/lang/Integer;>;", &ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataRegionCodes, "Ljava/util/Set<Ljava/lang/String;>;", "LComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps;" };
  static const J2ObjcClassInfo _ComGoogleI18nPhonenumbersMetadataManager = { "MetadataManager", "com.google.i18n.phonenumbers", ptrTable, methods, fields, 7, 0x10, 8, 10, -1, 30, -1, -1, -1 };
  return &_ComGoogleI18nPhonenumbersMetadataManager;
}

+ (void)initialize {
  if (self == [ComGoogleI18nPhonenumbersMetadataManager class]) {
    JreStrongAssignAndConsume(&ComGoogleI18nPhonenumbersMetadataManager_DEFAULT_METADATA_LOADER, new_ComGoogleI18nPhonenumbersMetadataManager_$1_init());
    JreStrongAssign(&ComGoogleI18nPhonenumbersMetadataManager_logger, JavaUtilLoggingLogger_getLoggerWithNSString_([ComGoogleI18nPhonenumbersMetadataManager_class_() getName]));
    JreStrongAssignAndConsume(&ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsMap, new_JavaUtilConcurrentConcurrentHashMap_init());
    JreStrongAssignAndConsume(&ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataMap, new_JavaUtilConcurrentConcurrentHashMap_init());
    JreStrongAssign(&ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsCountryCodes, ComGoogleI18nPhonenumbersAlternateFormatsCountryCodeSet_getCountryCodeSet());
    JreStrongAssign(&ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataRegionCodes, ComGoogleI18nPhonenumbersShortNumbersRegionCodeSet_getRegionCodeSet());
    J2OBJC_SET_INITIALIZED(ComGoogleI18nPhonenumbersMetadataManager)
  }
}

@end

void ComGoogleI18nPhonenumbersMetadataManager_init(ComGoogleI18nPhonenumbersMetadataManager *self) {
  NSObject_init(self);
}

ComGoogleI18nPhonenumbersMetadataManager *new_ComGoogleI18nPhonenumbersMetadataManager_init() {
  J2OBJC_NEW_IMPL(ComGoogleI18nPhonenumbersMetadataManager, init)
}

ComGoogleI18nPhonenumbersMetadataManager *create_ComGoogleI18nPhonenumbersMetadataManager_init() {
  J2OBJC_CREATE_IMPL(ComGoogleI18nPhonenumbersMetadataManager, init)
}

ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *ComGoogleI18nPhonenumbersMetadataManager_getAlternateFormatsForCountryWithInt_(jint countryCallingCode) {
  ComGoogleI18nPhonenumbersMetadataManager_initialize();
  if (![((id<JavaUtilSet>) nil_chk(ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsCountryCodes)) containsWithId:JavaLangInteger_valueOfWithInt_(countryCallingCode)]) {
    return nil;
  }
  return ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromMultiFilePrefixWithId_withJavaUtilConcurrentConcurrentHashMap_withNSString_withComGoogleI18nPhonenumbersMetadataLoader_(JavaLangInteger_valueOfWithInt_(countryCallingCode), ComGoogleI18nPhonenumbersMetadataManager_alternateFormatsMap, ComGoogleI18nPhonenumbersMetadataManager_ALTERNATE_FORMATS_FILE_PREFIX, ComGoogleI18nPhonenumbersMetadataManager_DEFAULT_METADATA_LOADER);
}

ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *ComGoogleI18nPhonenumbersMetadataManager_getShortNumberMetadataForRegionWithNSString_(NSString *regionCode) {
  ComGoogleI18nPhonenumbersMetadataManager_initialize();
  if (![((id<JavaUtilSet>) nil_chk(ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataRegionCodes)) containsWithId:regionCode]) {
    return nil;
  }
  return ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromMultiFilePrefixWithId_withJavaUtilConcurrentConcurrentHashMap_withNSString_withComGoogleI18nPhonenumbersMetadataLoader_(regionCode, ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataMap, ComGoogleI18nPhonenumbersMetadataManager_SHORT_NUMBER_METADATA_FILE_PREFIX, ComGoogleI18nPhonenumbersMetadataManager_DEFAULT_METADATA_LOADER);
}

id<JavaUtilSet> ComGoogleI18nPhonenumbersMetadataManager_getSupportedShortNumberRegions() {
  ComGoogleI18nPhonenumbersMetadataManager_initialize();
  return JavaUtilCollections_unmodifiableSetWithJavaUtilSet_(ComGoogleI18nPhonenumbersMetadataManager_shortNumberMetadataRegionCodes);
}

ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromMultiFilePrefixWithId_withJavaUtilConcurrentConcurrentHashMap_withNSString_withComGoogleI18nPhonenumbersMetadataLoader_(id key, JavaUtilConcurrentConcurrentHashMap *map, NSString *filePrefix, id<ComGoogleI18nPhonenumbersMetadataLoader> metadataLoader) {
  ComGoogleI18nPhonenumbersMetadataManager_initialize();
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *metadata = [((JavaUtilConcurrentConcurrentHashMap *) nil_chk(map)) getWithId:key];
  if (metadata != nil) {
    return metadata;
  }
  NSString *fileName = JreStrcat("$C@", filePrefix, '_', key);
  id<JavaUtilList> metadataList = ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromSingleFileNameWithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(fileName, metadataLoader);
  if ([((id<JavaUtilList>) nil_chk(metadataList)) size] > 1) {
    [((JavaUtilLoggingLogger *) nil_chk(ComGoogleI18nPhonenumbersMetadataManager_logger)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, WARNING) withNSString:JreStrcat("$$", @"more than one metadata in file ", fileName)];
  }
  metadata = [metadataList getWithInt:0];
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *oldValue = [map putIfAbsentWithId:key withId:metadata];
  return (oldValue != nil) ? oldValue : metadata;
}

ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *ComGoogleI18nPhonenumbersMetadataManager_getSingleFileMetadataMapsWithJavaUtilConcurrentAtomicAtomicReference_withNSString_withComGoogleI18nPhonenumbersMetadataLoader_(JavaUtilConcurrentAtomicAtomicReference *ref, NSString *fileName, id<ComGoogleI18nPhonenumbersMetadataLoader> metadataLoader) {
  ComGoogleI18nPhonenumbersMetadataManager_initialize();
  ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *maps = [((JavaUtilConcurrentAtomicAtomicReference *) nil_chk(ref)) get];
  if (maps != nil) {
    return maps;
  }
  maps = ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_load__WithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(fileName, metadataLoader);
  [ref compareAndSetWithId:nil withId:maps];
  return [ref get];
}

id<JavaUtilList> ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromSingleFileNameWithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(NSString *fileName, id<ComGoogleI18nPhonenumbersMetadataLoader> metadataLoader) {
  ComGoogleI18nPhonenumbersMetadataManager_initialize();
  JavaIoInputStream *source = [((id<ComGoogleI18nPhonenumbersMetadataLoader>) nil_chk(metadataLoader)) loadMetadataWithNSString:fileName];
  if (source == nil) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$", @"missing metadata: ", fileName));
  }
  ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection *metadataCollection = ComGoogleI18nPhonenumbersMetadataManager_loadMetadataAndCloseInputWithJavaIoInputStream_(source);
  id<JavaUtilList> metadataList = [((ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection *) nil_chk(metadataCollection)) getMetadataList];
  if ([((id<JavaUtilList>) nil_chk(metadataList)) size] == 0) {
    @throw create_JavaLangIllegalStateException_initWithNSString_(JreStrcat("$$", @"empty metadata: ", fileName));
  }
  return metadataList;
}

ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection *ComGoogleI18nPhonenumbersMetadataManager_loadMetadataAndCloseInputWithJavaIoInputStream_(JavaIoInputStream *source) {
  ComGoogleI18nPhonenumbersMetadataManager_initialize();
  JavaIoObjectInputStream *ois = nil;
  @try {
    @try {
      ois = create_JavaIoObjectInputStream_initWithJavaIoInputStream_(source);
    }
    @catch (JavaIoIOException *e) {
      @throw create_JavaLangRuntimeException_initWithNSString_withNSException_(@"cannot load/parse metadata", e);
    }
    ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection *metadataCollection = create_ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadataCollection_init();
    @try {
      [metadataCollection readExternalWithJavaIoObjectInput:ois];
    }
    @catch (JavaIoIOException *e) {
      @throw create_JavaLangRuntimeException_initWithNSString_withNSException_(@"cannot load/parse metadata", e);
    }
    return metadataCollection;
  }
  @finally {
    @try {
      if (ois != nil) {
        [ois close];
      }
      else {
        [((JavaIoInputStream *) nil_chk(source)) close];
      }
    }
    @catch (JavaIoIOException *e) {
      [((JavaUtilLoggingLogger *) nil_chk(ComGoogleI18nPhonenumbersMetadataManager_logger)) logWithJavaUtilLoggingLevel:JreLoadStatic(JavaUtilLoggingLevel, WARNING) withNSString:@"error closing input stream (ignored)" withNSException:e];
    }
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleI18nPhonenumbersMetadataManager)

@implementation ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps

+ (ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *)load__WithNSString:(NSString *)fileName
                                            withComGoogleI18nPhonenumbersMetadataLoader:(id<ComGoogleI18nPhonenumbersMetadataLoader>)metadataLoader {
  return ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_load__WithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(fileName, metadataLoader);
}

- (instancetype)initWithJavaUtilMap:(id<JavaUtilMap>)regionCodeToMetadata
                    withJavaUtilMap:(id<JavaUtilMap>)countryCallingCodeToMetadata {
  ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(self, regionCodeToMetadata, countryCallingCodeToMetadata);
  return self;
}

- (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *)getWithNSString:(NSString *)regionCode {
  return [((id<JavaUtilMap>) nil_chk(regionCodeToMetadata_)) getWithId:regionCode];
}

- (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *)getWithInt:(jint)countryCallingCode {
  return [((id<JavaUtilMap>) nil_chk(countryCallingCodeToMetadata_)) getWithId:JavaLangInteger_valueOfWithInt_(countryCallingCode)];
}

- (void)dealloc {
  RELEASE_(regionCodeToMetadata_);
  RELEASE_(countryCallingCodeToMetadata_);
  [super dealloc];
}

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps;", 0x8, 0, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x2, -1, 2, -1, 3, -1, -1 },
    { NULL, "LComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata;", 0x0, 4, 5, -1, -1, -1, -1 },
    { NULL, "LComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata;", 0x0, 4, 6, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(load__WithNSString:withComGoogleI18nPhonenumbersMetadataLoader:);
  methods[1].selector = @selector(initWithJavaUtilMap:withJavaUtilMap:);
  methods[2].selector = @selector(getWithNSString:);
  methods[3].selector = @selector(getWithInt:);
  #pragma clang diagnostic pop
  static const J2ObjcFieldInfo fields[] = {
    { "regionCodeToMetadata_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 7, -1 },
    { "countryCallingCodeToMetadata_", "LJavaUtilMap;", .constantValue.asLong = 0, 0x12, -1, -1, 8, -1 },
  };
  static const void *ptrTable[] = { "load", "LNSString;LComGoogleI18nPhonenumbersMetadataLoader;", "LJavaUtilMap;LJavaUtilMap;", "(Ljava/util/Map<Ljava/lang/String;Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;Ljava/util/Map<Ljava/lang/Integer;Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;)V", "get", "LNSString;", "I", "Ljava/util/Map<Ljava/lang/String;Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;", "Ljava/util/Map<Ljava/lang/Integer;Lcom/google/i18n/phonenumbers/Phonemetadata$PhoneMetadata;>;", "LComGoogleI18nPhonenumbersMetadataManager;" };
  static const J2ObjcClassInfo _ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps = { "SingleFileMetadataMaps", "com.google.i18n.phonenumbers", ptrTable, methods, fields, 7, 0x8, 4, 2, 9, -1, -1, -1, -1 };
  return &_ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps;
}

@end

ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_load__WithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(NSString *fileName, id<ComGoogleI18nPhonenumbersMetadataLoader> metadataLoader) {
  ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initialize();
  id<JavaUtilList> metadataList = ComGoogleI18nPhonenumbersMetadataManager_getMetadataFromSingleFileNameWithNSString_withComGoogleI18nPhonenumbersMetadataLoader_(fileName, metadataLoader);
  id<JavaUtilMap> regionCodeToMetadata = create_JavaUtilHashMap_init();
  id<JavaUtilMap> countryCallingCodeToMetadata = create_JavaUtilHashMap_init();
  for (ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata * __strong metadata in nil_chk(metadataList)) {
    NSString *regionCode = [((ComGoogleI18nPhonenumbersPhonemetadata_PhoneMetadata *) nil_chk(metadata)) getId];
    if ([((NSString *) nil_chk(ComGoogleI18nPhonenumbersPhoneNumberUtil_REGION_CODE_FOR_NON_GEO_ENTITY)) isEqual:regionCode]) {
      [countryCallingCodeToMetadata putWithId:JavaLangInteger_valueOfWithInt_([metadata getCountryCode]) withId:metadata];
    }
    else {
      [regionCodeToMetadata putWithId:regionCode withId:metadata];
    }
  }
  return create_ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(regionCodeToMetadata, countryCallingCodeToMetadata);
}

void ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *self, id<JavaUtilMap> regionCodeToMetadata, id<JavaUtilMap> countryCallingCodeToMetadata) {
  NSObject_init(self);
  JreStrongAssign(&self->regionCodeToMetadata_, JavaUtilCollections_unmodifiableMapWithJavaUtilMap_(regionCodeToMetadata));
  JreStrongAssign(&self->countryCallingCodeToMetadata_, JavaUtilCollections_unmodifiableMapWithJavaUtilMap_(countryCallingCodeToMetadata));
}

ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *new_ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(id<JavaUtilMap> regionCodeToMetadata, id<JavaUtilMap> countryCallingCodeToMetadata) {
  J2OBJC_NEW_IMPL(ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps, initWithJavaUtilMap_withJavaUtilMap_, regionCodeToMetadata, countryCallingCodeToMetadata)
}

ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps *create_ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps_initWithJavaUtilMap_withJavaUtilMap_(id<JavaUtilMap> regionCodeToMetadata, id<JavaUtilMap> countryCallingCodeToMetadata) {
  J2OBJC_CREATE_IMPL(ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps, initWithJavaUtilMap_withJavaUtilMap_, regionCodeToMetadata, countryCallingCodeToMetadata)
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComGoogleI18nPhonenumbersMetadataManager_SingleFileMetadataMaps)

@implementation ComGoogleI18nPhonenumbersMetadataManager_$1

- (JavaIoInputStream *)loadMetadataWithNSString:(NSString *)metadataFileName {
  return [ComGoogleI18nPhonenumbersMetadataManager_class_() getResourceAsStream:metadataFileName];
}

J2OBJC_IGNORE_DESIGNATED_BEGIN
- (instancetype)init {
  ComGoogleI18nPhonenumbersMetadataManager_$1_init(self);
  return self;
}
J2OBJC_IGNORE_DESIGNATED_END

+ (const J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { NULL, "LJavaIoInputStream;", 0x1, 0, 1, -1, -1, -1, -1 },
    { NULL, NULL, 0x0, -1, -1, -1, -1, -1, -1 },
  };
  #pragma clang diagnostic push
  #pragma clang diagnostic ignored "-Wobjc-multiple-method-names"
  methods[0].selector = @selector(loadMetadataWithNSString:);
  methods[1].selector = @selector(init);
  #pragma clang diagnostic pop
  static const void *ptrTable[] = { "loadMetadata", "LNSString;", "LComGoogleI18nPhonenumbersMetadataManager;" };
  static const J2ObjcClassInfo _ComGoogleI18nPhonenumbersMetadataManager_$1 = { "", "com.google.i18n.phonenumbers", ptrTable, methods, NULL, 7, 0x8008, 2, 0, 2, -1, -1, -1, -1 };
  return &_ComGoogleI18nPhonenumbersMetadataManager_$1;
}

@end

void ComGoogleI18nPhonenumbersMetadataManager_$1_init(ComGoogleI18nPhonenumbersMetadataManager_$1 *self) {
  NSObject_init(self);
}

ComGoogleI18nPhonenumbersMetadataManager_$1 *new_ComGoogleI18nPhonenumbersMetadataManager_$1_init() {
  J2OBJC_NEW_IMPL(ComGoogleI18nPhonenumbersMetadataManager_$1, init)
}

ComGoogleI18nPhonenumbersMetadataManager_$1 *create_ComGoogleI18nPhonenumbersMetadataManager_$1_init() {
  J2OBJC_CREATE_IMPL(ComGoogleI18nPhonenumbersMetadataManager_$1, init)
}
